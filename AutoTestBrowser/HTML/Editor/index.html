<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Editor</title>
  <link rel="stylesheet" href="lion-ui-kit.css" />
  <style type="text/css" media="screen">
    body {
        overflow: hidden;
    }

    #editor {
        margin: 0;
        top: 0px;
        bottom:0px;
        left:0px;
        right:0px;
        height:480px;
        
    }
  </style>
  <script type = "text/javascript">
    var ipcRenderer = require("electron").ipcRenderer;
    
    function ConsoleExecute(script) {
      ipcRenderer.sendSync("Execute", script);
    }
	
	</script>
</head>
<body onload = "Init()">
<div class="scope bar">
    <button class="scope" onclick="ConsoleExecute(editor.getValue())" >Execute</button>
	<button class="scope" onclick="alert(editor.getValue())" >Alert</button>
</div>   
<div id="container">
<pre id="editor" style="width:640;height:480">
function foo() 
  for i = 1, 10 do
    print(""..i.." - "..os.time())
  end

  if (not editorScene.offscreen_browser) then
    editorScene.offscreen_browser = editorScene:addBackDrops(
      WebBrowser:new(
        "file:///HTML/OFFSCREENRender/index.html", 
        1310, 
        800, 
        true, 
        false
      )
    )
    engine:SetOffScreenRenderer(editorScene.offscreen_browser)
  else
    engine:run(firstScene)
  end  
 
end
--Executes the above function  
foo()
</pre>
</div>
<script src="src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="src-noconflict/ext-language_tools.js" type="text/javascript" charset="utf-8"></script>
<script>
    ace.require("ace/ext/language_tools");
    var editor = ace.edit("editor");
    editor.setTheme("ace/theme/twilight");
    editor.setBehavioursEnabled(false);
    editor.session.setMode("ace/mode/lua");
    
    editor.setOptions({
        enableBasicAutocompletion: true,
        enableSnippets: true,
        enableLiveAutocompletion: false
    });
    
    window.nodeRequire = require; 
    delete window.require;
    delete window.exports; 
    delete window.module; 
</script> 
    
</script>
</body>
</html>
